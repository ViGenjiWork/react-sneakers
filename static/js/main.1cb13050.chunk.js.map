{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","components/Info/Info.module.scss","context.js","components/hooks/useCart.js","components/Header.js","components/Info/Info.jsx","components/Drawer/Drawer.js","components/Card/Card.js","components/pages/Home.jsx","components/pages/Favourites.jsx","components/pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","onClickCart","className","to","width","height","src","alt","onClick","Info","image","title","description","setCartOpened","styles","cartEmpty","greenButton","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","items","onRemove","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","console","log","overlay","overlayVisible","event","target","classList","contains","drawer","removeBtn","Fragment","map","cartItem","style","backgroundImage","imgUrl","cartItemImg","cartTotalBlock","Math","round","disabled","Card","onFavourite","onPlus","favourited","loading","isItemAdded","React","isFavourite","setIsFavourite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favourite","plus","Home","searchValue","resetSearchValue","onChangeSearchInput","onAddToCart","onAddToFavourite","onChange","value","placeholder","filteredItems","filter","toLowerCase","includes","Array","index","renderItems","Favourites","favourites","Orders","orders","setOrders","useEffect","get","flat","App","setItems","cartOpened","setSearchValue","setFavourites","all","cartResponse","favouritesResponse","itemResponse","find","Number","prev","error","favObj","Provider","some","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1cb13050.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__Wrrqs\",\"overlayVisible\":\"Drawer_overlayVisible__3boEr\",\"drawer\":\"Drawer_drawer__3CvV4\",\"items\":\"Drawer_items__3EFpx\",\"cartTotalBlock\":\"Drawer_cartTotalBlock__3M1x_\",\"greenButton\":\"Drawer_greenButton__3dDLe\",\"button-loading\":\"Drawer_button-loading__1rDjU\",\"cartItem\":\"Drawer_cartItem__2W7Jd\",\"cartItemImg\":\"Drawer_cartItemImg__2bQ2r\",\"removeBtn\":\"Drawer_removeBtn__2GPSq\",\"cartEmpty\":\"Drawer_cartEmpty__3COAp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1ThI9\",\"favourite\":\"Card_favourite__2Dehc\",\"plus\":\"Card_plus__2w5N1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartEmpty\":\"Info_cartEmpty__3peGw\",\"greenButton\":\"Info_greenButton__2gA-1\"};","import { createContext } from \"react\"\r\n\r\nconst AppContext = createContext({})\r\n\r\nexport default AppContext","import { useContext } from 'react'\r\nimport AppContext from '../../context'\r\n\r\n\r\nexport const useCart = () => {\r\n    const { cartItems, setCartItems } = useContext(AppContext)\r\n    const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0)\r\n\r\n    return { cartItems, setCartItems, totalPrice}\r\n}\r\n","import { Link } from \"react-router-dom\"\r\nimport { useCart } from \"./hooks/useCart\"\r\n\r\nconst Header = ({ onClickCart }) => {\r\n\r\n    const { totalPrice } = useCart()\r\n\r\n    return (\r\n        <header className=\"d-flex justify-between align-center p-40\">\r\n\r\n            <div className=\"d-flex align-center\">\r\n                <Link to=\"/\">\r\n                    <img width={40} height={40} src=\"./img/logo.png\" alt=\"logo\" />\r\n                    <div>\r\n                        <h3 className=\"text-uppercase\">React sneakers</h3>\r\n                        <p className='opacity-5'>Магазин лучших кроссовок</p>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n\r\n            <ul className=\"d-flex\">\r\n\r\n                <li className=\"mr-30 cu-p\" onClick={onClickCart}>\r\n                    <img width={18} height={18} src=\"./img/cart.svg\" alt=\"cart\" />\r\n                    <span> {totalPrice ? `${totalPrice} руб.` : null}</span>\r\n                </li>\r\n\r\n                <li className=\"mr-20 cu-p\">\r\n                    <Link to=\"/favourites\">\r\n                        <img width={18} height={18} src=\"./img/like.svg\" alt=\"favourites\" />\r\n                    </Link>\r\n                </li>\r\n\r\n                <li>\r\n                    <Link to=\"/orders\">\r\n                        <img width={18} height={18} src=\"./img/user.svg\" alt=\"user\" />\r\n                    </Link>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React, { useContext } from 'react'\r\nimport styles from './Info.module.scss'\r\nimport AppContext from '../../context';\r\n\r\nconst Info = ({ image, title, description }) => {\r\n\r\n    const { setCartOpened } = useContext(AppContext)\r\n\r\n    return (\r\n        <div className={styles.cartEmpty}>\r\n            <img width={120} className='mb-20' src={image} alt=\"cartEmpty\" />\r\n            <h2>{title}</h2>\r\n            <p className=\"opacity-6\">{description}</p>\r\n            <button onClick={() => setCartOpened(false)} className={styles.greenButton}>\r\n                <img src=\"./img/arrow.svg\" alt=\"arrow\" />\r\n                Вернуться назад\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info","import React, { useState } from 'react'\r\nimport styles from './Drawer.module.scss'\r\nimport Info from './../Info/Info';\r\nimport axios from 'axios';\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))\r\n\r\nconst Drawer = ({ onClose, items = [], onRemove, opened }) => {\r\n\r\n    const { cartItems, setCartItems, totalPrice } = useCart()\r\n    const [orderId, setOrderId] = useState(null)\r\n    const [isOrderComplete, setIsOrderComplete] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n\r\n\r\n    const onClickOrder = async () => {\r\n        try {\r\n            setIsLoading(true)\r\n            const { data } = await axios.post('https://610074bfbca46600171cf8eb.mockapi.io/orders/', { items: cartItems })\r\n\r\n            setOrderId(data.id)\r\n            setIsOrderComplete(true)\r\n            setCartItems([])\r\n\r\n            for (let i = 0; i < cartItems.length; i++) {\r\n                const item = cartItems[i];\r\n                await axios.delete('https://610074bfbca46600171cf8eb.mockapi.io/cart/' + item.id)\r\n                await delay(1000)\r\n            }\r\n\r\n        } catch (error) {\r\n            alert('При оформлении заказа произошла ошибка ;(')\r\n            console.log(error);\r\n        }\r\n        setIsLoading(false)\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`} onClick={(event) => {\r\n            if (event.target.classList.contains(styles.overlay)) {\r\n                onClose()\r\n            }\r\n        }}>\r\n            <div className={styles.drawer}>\r\n                <h2 className=\"mb-20\">Корзина <img className={styles.removeBtn} src=\"./img/btn-remove.svg\" alt=\"remove\" onClick={onClose} /></h2>\r\n\r\n                {items.length > 0\r\n\r\n                    ?\r\n                    <React.Fragment>\r\n                        <div className={styles.items}>\r\n                            {\r\n                                items.map(obj => (\r\n                                    <div className={styles.cartItem} key={obj.id}>\r\n                                        <div\r\n                                            style={{ backgroundImage: `url(${obj.imgUrl})` }}\r\n                                            className={styles.cartItemImg}>\r\n                                        </div>\r\n                                        <div className=\"mr-20 flex\">\r\n                                            <p className=\"mb-5\">{obj.title}</p>\r\n                                            <b>{obj.price} руб.</b>\r\n                                        </div>\r\n                                        <img\r\n                                            onClick={() => {\r\n                                                onRemove(obj.id)\r\n                                            }}\r\n                                            className={styles.removeBtn}\r\n                                            src=\"./img/btn-remove.svg\"\r\n                                            alt=\"remove\"\r\n                                        />\r\n                                    </div>\r\n                                ))\r\n                            }\r\n                        </div>\r\n\r\n                        <div className={styles.cartTotalBlock}>\r\n                            <ul>\r\n                                <li className=\"d-flex\">\r\n                                    <span>Итого:</span>\r\n                                    <div></div>\r\n                                    <b> {totalPrice} </b>\r\n                                </li>\r\n                                <li className=\"d-flex\">\r\n                                    <span>Налог 5%: </span>\r\n                                    <div></div>\r\n                                    <b>{Math.round(totalPrice * 0.05)} руб.</b>\r\n                                </li>\r\n                            </ul>\r\n                            <button disabled={isLoading} onClick={onClickOrder} className={styles.greenButton}>Оформить заказ <img src=\"./img/arrow.svg\" alt=\"arrrow\" /></button>\r\n                        </div>\r\n\r\n                    </React.Fragment>\r\n                    :\r\n                    <Info\r\n                        image={isOrderComplete ? './img/complete-order.png' : './img/cartEmpty.png'}\r\n                        title={isOrderComplete ? \"Заказ оформлен\" : \"Корзина пустая\"}\r\n                        description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Drawer\r\n// ТАЙМКОД 29:25","import React, { useContext } from 'react'\r\nimport ContentLoader from \"react-content-loader\"\r\nimport styles from './Card.module.scss'\r\nimport AppContext from './../../context';\r\n\r\nconst Card = ({\r\n    id,\r\n    title,\r\n    imgUrl,\r\n    price,\r\n    onFavourite,\r\n    onPlus,\r\n    favourited = false,\r\n    loading = false,\r\n}) => {\r\n\r\n    const { isItemAdded } = useContext(AppContext)\r\n    const [isFavourite, setIsFavourite] = React.useState(favourited)\r\n    const obj = { id, parentId: id, title, imgUrl, price }\r\n\r\n\r\n    const onClickPlus = () => {\r\n        onPlus(obj)\r\n    }\r\n\r\n    const onClickFavourite = () => {\r\n        onFavourite(obj)\r\n        setIsFavourite(!isFavourite)\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={styles.card}>\r\n            {\r\n                loading\r\n                    ? (\r\n                        <ContentLoader\r\n                            speed={2}\r\n                            width={150}\r\n                            height={187}\r\n                            viewBox=\"0 0 150 187\"\r\n                            backgroundColor=\"#f2f2f2\"\r\n                            foregroundColor=\"#ecebeb\"\r\n                        >\r\n                            <rect x=\"10\" y=\"196\" rx=\"0\" ry=\"0\" width=\"73\" height=\"26\" />\r\n                            <rect x=\"122\" y=\"199\" rx=\"0\" ry=\"0\" width=\"61\" height=\"25\" />\r\n                            <rect x=\"45\" y=\"50\" rx=\"0\" ry=\"0\" width=\"9\" height=\"1\" />\r\n                            <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"150\" height=\"90\" />\r\n                            <rect x=\"0\" y=\"105\" rx=\"3\" ry=\"3\" width=\"150\" height=\"15\" />\r\n                            <rect x=\"0\" y=\"135\" rx=\"3\" ry=\"3\" width=\"93\" height=\"15\" />\r\n                            <rect x=\"0\" y=\"162\" rx=\"8\" ry=\"8\" width=\"80\" height=\"24\" />\r\n                            <rect x=\"115\" y=\"155\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n                        </ContentLoader>\r\n                    )\r\n                    : (\r\n                        <>\r\n                            {onFavourite && (<div className={styles.favourite}>\r\n                                <img\r\n                                    onClick={onClickFavourite}\r\n                                    src={isFavourite ? \"./img/heart-liked.svg\" : \"./img/heart-unliked.svg\"}\r\n                                    alt=\"unliked\"\r\n                                />\r\n                            </div>\r\n                            )}\r\n                            <img\r\n                                width='100%'\r\n                                height={135}\r\n                                src={imgUrl}\r\n                                alt=\"Sneakers\"\r\n                            />\r\n                            <p>{title}</p>\r\n                            <div className=\"d-flex justify-between align-center\">\r\n                                <div className=\"d-flex flex-column\">\r\n                                    <span>Цена:</span>\r\n                                    <b>{price} руб.</b>\r\n                                </div>\r\n                                {onPlus && (\r\n                                    <img\r\n                                        className={styles.plus}\r\n                                        src={isItemAdded(id) ? './img/btn-checked.svg' : './img/btn-plus.svg'}\r\n                                        alt=\"plus\"\r\n                                        onClick={onClickPlus}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        </>\r\n                    )}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card\r\n\r\n","import React from 'react'\r\n\r\nimport Card from '../Card/Card'\r\n\r\nconst Home = ({\r\n    items,\r\n    searchValue,\r\n    resetSearchValue,\r\n    onChangeSearchInput,\r\n    onAddToCart,\r\n    onAddToFavourite,\r\n    isLoading\r\n}) => {\r\n\r\n    const renderItems = () => {\r\n\r\n        const filteredItems = items\r\n            .filter(item => item.title.toLowerCase().includes(searchValue.toLowerCase()),)\r\n\r\n        return (isLoading ? [...Array(8)] : filteredItems).map((item, index) => (\r\n            <Card\r\n                key={index}\r\n                onPlus={(obj) => onAddToCart(obj)}\r\n                onFavourite={(obj) => onAddToFavourite(obj)}\r\n                loading={isLoading}\r\n                {...item}\r\n            />\r\n        ))\r\n    }\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center mb-40 justify-between\">\r\n                <h1>{searchValue ? `Поиск по запросу: ${searchValue}` : `Все кроссовки`}</h1>\r\n                <div className=\"search-block d-flex\">\r\n                    <img src=\"./img/search.svg\" alt=\"Search\" />\r\n                    {searchValue ? <img onClick={resetSearchValue} className='cu-p clear' src=\"./img/btn-remove.svg\" alt=\"clear\" /> : null}\r\n                    <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {renderItems()}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import Card from \"../Card/Card\"\r\nimport { useContext } from 'react';\r\nimport  AppContext  from './../../context';\r\n\r\nconst Favourites = () => {\r\n\r\n    const {favourites, onAddToFavourite} = useContext(AppContext)\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center mb-40 justify-between\">\r\n                <h1>Мои закладки</h1>\r\n\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n\r\n                {\r\n                    favourites\r\n                        .map((item, index )=> <Card\r\n                            key={index}\r\n                            onFavourite={onAddToFavourite}\r\n                            favourited={true}\r\n                            {...item}\r\n                        />)\r\n                }\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Favourites","import axios from 'axios';\r\nimport { useEffect, useState } from 'react'\r\nimport Card from './../Card/Card';\r\nimport { useContext } from 'react';\r\nimport AppContext from './../../context';\r\n\r\n\r\nexport const Orders = () => {\r\n\r\n    const { onAddToFavourite, onAddToCart } = useContext(AppContext)\r\n    const [orders, setOrders] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await axios.get('https://610074bfbca46600171cf8eb.mockapi.io/orders')\r\n                setOrders(data.map(obj => obj.items).flat())\r\n                setIsLoading(false)\r\n            } catch (error) {\r\n                alert('Произошла ошибка при загрузке ваших заказов')\r\n                console.log(error);\r\n            }\r\n        })()\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>Мои заказы</h1>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {(isLoading ? [...Array(8)] : orders).map((item, index) => (\r\n                    <Card\r\n                        key={index}\r\n                        loading={isLoading}\r\n                        {...item}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\nimport { Route } from 'react-router';\n\nimport Header from './components/Header';\nimport Drawer from './components/Drawer/Drawer';\nimport axios from 'axios';\nimport Home from './components/pages/Home';\nimport Favourites from './components/pages/Favourites';\nimport AppContext from './context';\nimport { Orders } from './components/pages/Orders';\n\nfunction App() {\n\n  const [items, setItems] = useState([])\n  const [cartItems, setCartItems] = useState([])\n  const [cartOpened, setCartOpened] = useState(false)\n  const [searchValue, setSearchValue] = useState('')\n  const [favourites, setFavourites] = useState([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n\n    (async () => {\n      try {\n        const [cartResponse, favouritesResponse, itemResponse] = await Promise.all([\n          axios.get('https://610074bfbca46600171cf8eb.mockapi.io/cart'),\n          axios.get('https://610074bfbca46600171cf8eb.mockapi.io/favourites'),\n          axios.get('https://610074bfbca46600171cf8eb.mockapi.io/items')\n        ])\n        setIsLoading(false)\n\n        setCartItems(cartResponse.data)\n        setFavourites(favouritesResponse.data)\n        setItems(itemResponse.data)\n      } catch (error) {\n        alert('Ошибка при запросе данных')\n        console.log(error)\n      }\n    })()\n\n  }, [])\n\n  const onAddToCart = (cartItem) => {\n    try {\n      if (cartItems.find(item => Number(item.id) === Number(cartItem.id))) {\n        setCartItems(prev => prev.filter(item => item.id !== cartItem.id))\n      } else {\n        axios.post('https://610074bfbca46600171cf8eb.mockapi.io/cart', cartItem)\n        setCartItems(prev => [...prev, cartItem])\n      }\n    } catch (error) {\n      alert('Произошла ошибка при добавлении товара в корзину')\n      console.log(error);\n    }\n  }\n\n  const onRemoveCartItem = id => {\n    axios.delete(`https://610074bfbca46600171cf8eb.mockapi.io/cart/${id}`)\n    setCartItems(prev => prev.filter(item => item.id !== id))\n  }\n\n  const onAddToFavourite = async (obj) => {\n    try {\n      if (favourites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(`https://610074bfbca46600171cf8eb.mockapi.io/favourites/${obj.id}`);\n        setFavourites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n      } else {\n        const { data } = await axios.post('https://610074bfbca46600171cf8eb.mockapi.io/favourites', obj);\n        setFavourites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты');\n      console.error(error);\n    }\n  };\n\n  const onChangeSearchInput = (event) => {\n    const target = event.target\n    setSearchValue(target.value)\n  }\n\n  const resetSearchValue = () => {\n    setSearchValue('')\n  }\n\n  const isItemAdded = (id) => {\n    return cartItems.some(obj => Number(obj.parentId) === Number(id))\n  }\n\n  return (\n    <AppContext.Provider value={{\n      items,\n      cartItems,\n      favourites,\n      isItemAdded,\n      onAddToFavourite,\n      setCartOpened,\n      setCartItems,\n      onAddToCart\n    }}>\n      <div className=\"wrapper clear\">\n        < Drawer\n          onClose={() => setCartOpened(!cartOpened)}\n          onRemove={onRemoveCartItem}\n          items={cartItems}\n          opened={cartOpened}\n        />\n        <Header\n          onClickCart={() => setCartOpened(!cartOpened)}\n        />\n\n        <Route exact path=\"\">\n          <Home\n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddToCart={onAddToCart}\n            onAddToFavourite={onAddToFavourite}\n            resetSearchValue={resetSearchValue}\n            isLoading={isLoading}\n          />\n        </Route>\n\n        <Route exact path=\"favourites\">\n          <Favourites />\n        </Route>\n\n        <Route exact path=\"orders\">\n          <Orders />\n        </Route>\n\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router\n} from 'react-router-dom'\n\nimport './index.scss';\nimport 'macro-css'\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}